# Redirect HTTP traffic using Feroxbuster and ZAP

We can redirect our scan results from fuzzers to specialized tools such as _ZAP_ to handle petitions and analyze the endpoints found.

* Set and run a scan with the desired specifications using [_Feroxbuster_](../../../../web-exploitation/tools-and-utilities.md#feroxbuster)

{% code overflow="wrap" lineNumbers="true" %}
```bash
feroxbuster -u $url -n -t $threads -L $limit -w $wordlist -o $file #Example
```
{% endcode %}

***

* We can filter the desired entries from the scan's file, format them, and redirect the URL obtained to an advanced processor, in this case, _ZAP_. To do so, we can automate this process with a little script as the following one:

{% code title="ferox-zap.sh" overflow="wrap" lineNumbers="true" %}
```bash
#!/bin/bash

# We filter by response code, then format only to get the endpoints' URL, and finally do a loop to send a petition to each one, catching them with the proxy
egrep "^200" "$1" | tr -s " " | cut -d " " -f6 | while read -r line; do
  echo "Sending request to $line"
  curl "$line" --proxy http://localhost:8080 > /dev/null
done
```
{% endcode %}

***

* To use this, we have to run the script indicating the scan file generated by _Feroxbuster,_ and it will send the requests to be captured by _ZAP_

{% code overflow="wrap" lineNumbers="true" %}
```bash
./ferox-zap.sh $filename
```
{% endcode %}
